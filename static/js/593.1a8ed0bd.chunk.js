"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[593],{548:function(n,e,r){r.d(e,{Hx:function(){return l},Y5:function(){return p},bI:function(){return s},uV:function(){return f},wr:function(){return o}});var t=r(861),a=r(757),u=r.n(a),c=r(243);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var i=new URLSearchParams({api_key:"1c860efb7ea3ee5f6f74a151b9c6036d",language:"en-US"}),o=function(){var n=(0,t.Z)(u().mark((function n(){var e,r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/trending/all/week?".concat(i));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/search/movie?".concat(i,"&query=").concat(e));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/movie/".concat(e,"?").concat(i));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/movie/".concat(e,"/credits?").concat(i));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.Z.get("/movie/".concat(e,"/reviews?").concat(i));case 2:return r=n.sent,t=r.data,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},47:function(n,e,r){r.d(e,{e:function(){return f}});var t,a,u=r(689),c=r(87),i=r(168),o=r(867),s=(o.ZP.ul(t||(t=(0,i.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  gap: 16px;\n"]))),o.ZP.h2(a||(a=(0,i.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n"])))),p=r(184),f=function(n){var e=n.movies,r=(0,u.TH)();return(0,p.jsx)("ul",{children:e.map((function(n){var e;return(0,p.jsx)("li",{children:(0,p.jsx)(c.rU,{to:"/movies/".concat(n.id),state:{form:r},children:(0,p.jsx)(s,{children:null!==(e=n.title)&&void 0!==e?e:n.original_name})})},n.id)}))})}},593:function(n,e,r){r.r(e),r.d(e,{default:function(){return b}});var t,a,u=r(861),c=r(439),i=r(757),o=r.n(i),s=r(548),p=r(14),f=r(47),l=r(791),d=r(87),v=r(168),h=r(867),m=h.ZP.div(t||(t=(0,v.Z)(["\n  display: inline-flex;\n  align-items: center;\n  /* position: relative; */\n  margin-bottom: 16px;\n  text-transform: uppercase;\n"]))),x=h.ZP.input(a||(a=(0,v.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n"]))),g=r(184),Z=function(){var n=(0,l.useState)(),e=(0,c.Z)(n,2),r=e[0],t=e[1],a=(0,d.lr)(),u=(0,c.Z)(a,2)[1];return(0,g.jsx)(m,{children:(0,g.jsxs)("form",{onSubmit:function(n){n.preventDefault(),u(""!==r?{query:r}:{})},children:[(0,g.jsx)(x,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",name:"query",onChange:function(n){t(n.target.value)}}),(0,g.jsx)("button",{type:"submit",children:"Search"})]})})},b=function(){var n=(0,l.useState)([]),e=(0,c.Z)(n,2),r=e[0],t=e[1],a=(0,d.lr)(),i=(0,c.Z)(a,1)[0];return(0,l.useEffect)((function(){var n,e=null!==(n=i.get("query"))&&void 0!==n?n:"";function r(){return(r=(0,u.Z)(o().mark((function n(){var r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,(0,s.bI)(e);case 5:r=n.sent,0===(a=r.results).length?p.ZP.error("Sorry, there are no films matching your search query. Please try again."):t(a),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),p.ZP.error("Error while fetching films. Please try again.");case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[i]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Z,{}),(0,g.jsx)(f.e,{movies:r})]})}}}]);
//# sourceMappingURL=593.1a8ed0bd.chunk.js.map